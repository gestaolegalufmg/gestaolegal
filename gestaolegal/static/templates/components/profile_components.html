{# Centralized Profile Components #}

{% macro profile_card(header, body, footer=None, card_class='') %}
  <div class="component-card {{ card_class }}">
    <div class="card-header">
      <h4>{{ header | safe }}</h4>
    </div>
    <div class="card-body">
      <div class="card-content">
        {{ body | safe }}
      </div>
    </div>
    {% if footer %}
    <div class="card-footer">
      {{ footer | safe }}
    </div>
    {% endif %}
  </div>
{% endmacro %}

{% macro profile_field(title=none, value=none, message=none, field_class="") %}
<div class="field-container {{ field_class }}">
  {% if message %}
  {# Display full-width message when no key-value pair is needed #}
  <div class="field-message">
    {{ message | safe }}
  </div>
  {% else %}
  {# Display traditional key-value pair #}
  <div class="field-label">
    {{ title | safe }}:
  </div>
  <div class="field-value">
    {{ value or '--' | safe }}
  </div>
  {% endif %}
</div>
{% endmacro %}

{% macro profile_field_link(title, value, url, target="_self", field_class="") %}
<div class="field-container {{ field_class }}">
  <div class="field-label">
    {{ title | safe }}:
  </div>
  <div class="field-value">
    <a href="{{ url }}" target="{{ target }}" rel="noopener noreferrer">{{ value | safe }}</a>
  </div>
</div>
{% endmacro %}

{% macro profile_section(title, fields, show_for_admin_only=False, card_class='') %}
  {% if not show_for_admin_only or current_user.urole == UserRole.ADMINISTRADOR.value %}
    {{ profile_card(title, fields, card_class=card_class) }}
  {% endif %}
{% endmacro %}
